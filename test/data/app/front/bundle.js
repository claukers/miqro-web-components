(()=>{var e={18:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResponseError=t.parseRedirectLocation=t.readResponseBuffer=t.TEXT_TYPE=t.JSON_TYPE=t.CONTENT_TYPE_HEADER=t.DEFAULT_USER_AGENT=void 0;const n=r(137);t.DEFAULT_USER_AGENT="curl/7.69.1",t.CONTENT_TYPE_HEADER="Content-Type",t.JSON_TYPE="application/json;charset=utf-8",t.TEXT_TYPE="plain/text;charset=utf-8";const o=(e,t)=>{const r=(0,n.newURLSearchParams)(e.toString());if(!t)return r;const o=Object.keys(t);for(const e of o)if(t[e]instanceof Array)for(const n of t[e])r.has(e)?r.append(e,String(n)):r.set(e,String(n));else r.has(e)?r.append(e,String(t[e])):r.set(e,String(t[e]));return r};t.readResponseBuffer=({res:e,readTimeout:t,options:r,req:n,reject:o,logger:s},i)=>{try{const a=[];t&&clearTimeout(t);const c=r.timeout?setTimeout((()=>{e.removeListener("data",u),e.removeListener("error",h),e.removeListener("end",l),n.end((()=>{try{n.destroy(),e.destroy()}catch(e){s&&s.error(e)}o(new Error(`response timeout ${r.timeout}`))}))}),r.timeout):null;let d=0;const u=t=>{d+=t.length,r.maxResponse&&r.maxResponse<d?(e.removeListener("data",u),e.removeListener("error",h),e.removeListener("end",l),n.end((()=>{try{n.destroy(),e.destroy()}catch(e){s&&s.error(e)}o(new Error(`response too big maxResponse ${r.maxResponse} < ${d}`))}))):a.push(t)},h=t=>{e.removeListener("data",u),e.removeListener("end",l),e.removeListener("error",h);try{n.destroy(),e.destroy()}catch(e){s&&s.error(e)}o(t)},l=()=>{try{c&&clearTimeout(c),e.removeListener("data",u),e.removeListener("error",h),i(a)}catch(e){o(e)}};try{e.on("data",u),e.once("error",h),e.once("end",l)}catch(t){return e.removeListener("data",u),e.removeListener("end",l),e.removeListener("error",h),void o(t)}}catch(e){return void o(e)}},t.parseRedirectLocation=(e,t,r)=>{const s=(e,n,s)=>({queryStr:o(e.searchParams,t).toString(),protocol:s?"http:":e.protocol,hash:e.hash,pathname:e.pathname,socketPath:s?r:void 0,hostname:s?void 0:e.hostname,port:s?void 0:e.port,url:s?n:e.toString()});try{return s((0,n.newURL)(e),e)}catch(t){if(e&&e.length>0&&"/"===e[0])return s((0,n.newURL)(`http://localhost${e}`),e,!0);throw t}};class s extends Error{constructor(e,t,r,n,o,s,i){super("request ended with "+(e?`status [${e}]`:"no status")),this.status=e,this.headers=t,this.url=r,this.redirectedUrl=n,this.data=o,this.buffer=s,this.locations=i,this.name="ResponseError"}}t.ResponseError=s},741:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.request=void 0;const n=r(18),o=r(137);t.request=async function(e,t){let r=e.url;const s=new Headers,i=e.headers?e.headers:{};if(e.headers){const t=Object.keys(e.headers);for(const r of t){const t=e.headers[r];s.set(r,t?t.toString():"")}}const a=i[n.CONTENT_TYPE_HEADER]||i[n.CONTENT_TYPE_HEADER.toLowerCase()]||i[n.CONTENT_TYPE_HEADER.toUpperCase()],c=a?0===a.toString().toLocaleLowerCase().indexOf("application/json"):void 0,d=!a,u="string"==typeof e.data,h=!u&&(d||c);if(h&&d?s.set("Content-Type",n.JSON_TYPE):u&&d&&s.set("Content-Type",n.TEXT_TYPE),e.data=e.data?h?JSON.stringify(e.data):e.data:void 0,e.query){const t=(0,o.newURL)(e.url),n=Object.keys(e.query);for(const r of n){const n=e.query[r];if(n instanceof Array)for(const e of n)t.searchParams.append(r,e);else t.searchParams.append(r,n)}r=t.toString()}const l=await fetch(r,{headers:s,body:e.data,method:e.method?e.method:"GET",cache:"no-cache",redirect:e.followRedirect?"follow":"error",credentials:"same-origin",mode:"cors",referrerPolicy:"no-referrer"}),p={};l.headers.forEach(((e,t)=>{p[e]=t}));const f=l.status,m=await l.arrayBuffer();let v;const E=l.headers.get("content-type");if(E&&-1!==E.indexOf("json")){const e=new TextDecoder("utf-8");v=JSON.parse(e.decode(new Uint8Array(m)))}else E&&-1!==E.indexOf("text")&&(v=new TextDecoder("utf-8").decode(new Uint8Array(m)));if(!e.disableThrow&&f<200&&f>300)throw new n.ResponseError(f,p,r,null,v,m,[]);const y={url:r,status:f,locations:[],redirectedUrl:null,buffer:m,data:v,headers:p};return y.response=l,y}},137:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowser=t.newURLSearchParams=t.newURL=void 0,t.newURL=(e,r)=>(r=r||((0,t.isBrowser)()?window.location.toString():void 0),new URL(e,r)),t.newURLSearchParams=e=>new URLSearchParams(e),t.isBrowser=()=>"undefined"!=typeof window},693:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.request=void 0;const n=r(137);t.request=function(e,t){if((0,n.isBrowser)()){const{request:n}=r(741);return n(e,t)}{const n="./node",{request:o}=r(636)(n);return o(e,t)}}},636:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=636,e.exports=t},481:(e,t)=>{"use strict";function r(e,t,r){if(!e||"object"!=typeof e)return void 0!==r?r:void 0;if("string"!=typeof t)throw new Error("attrPath must be typeof string");const n=t.split(".").reverse();let o=e;for(;n.length>0;){const e=n.pop();if(void 0===o[e])return void 0!==r?r:void 0;o=o[e]}return o}function n(e,t){const n=e.getAttributeNames(),o={};for(const s of n){const n=e.getAttribute(s);if(t&&n&&"{"===n.charAt(0)&&"}"===n.charAt(n.length-1)){const e=r(t,n.substring(1,n.length-1));if("function"==typeof e){const r=e;o[s]=r.bind(t)}else void 0!==e&&(o[s]=e)}else null!=n&&(o[s]=n)}return o}function o(e,t){const r=Object.keys(t);for(const n of r){const r=t[n];if("function"==typeof r)if("data-ref"===n)r(e);else if(0===n.indexOf("data-on-")){const t=n.substring("data-on-".length);e.addEventListener(t,r)}else console.error("Cannot use attribute [%s] with function as value. Only data-on-... and data-ref are allowed. Use custom events for using data-on... with custom events or use the helpers .emit and .registerEvent to use custom events.",n)}}function s(e){const t=[];for(let r=e.length-1;r>=0;r--)t.unshift(["&#",e[r].charCodeAt(0),";"].join(""));return t.join("")}Object.defineProperty(t,"__esModule",{value:!0}),t.renderOnElement=t.encodeHTML=t.decodeHTML=t.renderElementProps=void 0,t.renderElementProps=n,t.decodeHTML=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(t)}))},t.encodeHTML=s,t.renderOnElement=function(e,t){if(e.render){const a=e.render();if("string"==typeof a){const c=(i=e,a.replace(/{[^}]*}/g,(e=>{const t=e.substring(1,e.length-1),n=r(i,t);return"function"==typeof n?e:"string"==typeof n||"boolean"==typeof n||"number"==typeof n?s(String(n)):null==n?"":e})));if(void 0!==c){t.innerHTML=c;const r=t.querySelectorAll("*");for(let t=0;t<r.length;t++){const s=r[t],i=n(s,e),a=s,c=Object.keys(i).filter((e=>i[e]&&"object"==typeof i[e]));if(a.setProps&&c.length>0){const e={};for(const t of c)e[t]=i[t];a.setProps(e)}o(s,i)}e.afterRender&&e.afterRender()}}}var i}},455:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Component=void 0;const n=r(481),o=r(530);class s extends HTMLElement{constructor(){super(),this._emitter=new o.EventEmitter,this._observer=new MutationObserver((e=>{const t={};for(const r of e)if("attributes"===r.type){const e=r.attributeName,n=this.getAttribute(e);t[e]=n}this.setProps(t)})),this.props=(0,n.renderElementProps)(this),this.state={}}connectedCallback(){this._observer.observe(this,{attributes:!0}),this.setProps((0,n.renderElementProps)(this),!1,!1),this.willMount(),this._renderOnElement(),this.didMount()}disconnectedCallback(){this._observer.disconnect(),this.didUnMount()}render(){}willMount(){}didMount(){}didUnMount(){}afterRender(){}emit(e){return this._emitter.emit(e,this)}registerEvent(e,t){return this._emitter.registerEvent(e,t)}setState(e,t=!1,r=!0){const n=this.state;if(this.state=t?e:{...this.state,...e},r&&this.isConnected&&this.didUpdate(this.props,n))return this._renderOnElement()}setProps(e,t=!1,r=!0){const n=this.props;if(this.props=t?e:{...this.props,...e},r&&this.isConnected&&this.didUpdate(n,this.state))return this._renderOnElement()}didUpdate(e,t){return!0}_renderOnElement(){return(0,n.renderOnElement)(this,this)}}t.Component=s},530:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventEmitter=void 0,t.EventEmitter=class{constructor(e){this.defaultOptions=e,this._events=new Map}emit(e,t){this._events.has(e)||this.registerEvent(e),t.dispatchEvent(this._events.get(e))}registerEvent(e,t){this._events.set(e,new Event(e,t||this.defaultOptions))}}},846:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.renderOnElement=t.decodeHTML=t.encodeHTML=void 0;var s=r(481);Object.defineProperty(t,"encodeHTML",{enumerable:!0,get:function(){return s.encodeHTML}}),Object.defineProperty(t,"decodeHTML",{enumerable:!0,get:function(){return s.decodeHTML}}),Object.defineProperty(t,"renderOnElement",{enumerable:!0,get:function(){return s.renderOnElement}}),o(r(455),t),o(r(275),t),o(r(683),t)},683:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.historyPushPath=t.RouteLink=t.Route=t.Router=void 0;const n=r(455),o=document.documentElement.getAttribute("data-router-base-path")?document.documentElement.getAttribute("data-router-base-path"):"";class s extends n.Component{constructor(){if(super(),this.popStateListener=()=>{this._updateActive()},this.props["data-default-element"]){const e=new i;e.setAttribute("data-element",this.props["data-default-element"]),e.setAttribute("data-default",""),this.appendChild(e)}}willMount(){window.addEventListener("popstate",this.popStateListener)}didMount(){this.state.routes=this._updateRoutes(!1),this.state.active=this._updateActive(!1)}didUnMount(){window.removeEventListener("popstate",this.popStateListener)}_updateRoutes(e=!0){const t=[],r=this.querySelectorAll("*");for(let e=0;e<r.length;e++){const n=r[e];n.isActive&&n.setState&&n instanceof i&&t.push(n)}return e&&this.setState({routes:t}),t}_updateActive(e=!0){let t;for(const e of this.state.routes)e.isActive(t||this.state.active)&&(t=e);return t!==this.state.active&&(this.state.active&&this.state.active.setState({active:!1}),t&&t.setState({active:!0}),e&&this.setState({active:t})),t}}t.Router=s;class i extends n.Component{constructor(){super()}isActive(e,t=!0){const r=o+this.props["data-path"];let n=location.pathname;n.length>1&&"/"!==n.charAt(n.length-1)&&(n+="/");let s=t?n===r||""===this.props["data-default"]:n===r;return e&&this!==e&&s&&e.isActive(e,!1)&&(s=!1),s}render(){return this.state.active?`<${this.props["data-element"]}></${this.props["data-element"]}>`:""}}t.Route=i;class a extends n.Component{constructor(){super(),this.clickListener=e=>{e.preventDefault(),c(this.props["data-path"])}}willMount(){this.addEventListener("click",this.clickListener)}didUnMount(){this.removeEventListener("click",this.clickListener)}}function c(e){window.history.pushState(null,null,o+e),window.dispatchEvent(new PopStateEvent("popstate"))}t.RouteLink=a,t.historyPushPath=c},275:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OpenShadowRootComponent=t.ShadowRootComponent=void 0;const n=r(481),o=r(455),s=new WeakMap;class i extends o.Component{constructor(){super();const e=this.attachShadow({mode:"closed"});s.set(this,e)}_renderOnElement(){const e=s.get(this);return(0,n.renderOnElement)(this,e)}}t.ShadowRootComponent=i,t.OpenShadowRootComponent=class extends i{constructor(){super();const e=this.attachShadow({mode:"open"});s.set(this,e)}}}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,r),s.exports}r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{const{Component:e,Router:t,Route:n,RouteLink:o,historyPushPath:s}=r(846),{request:i}=r(693);window.onload=()=>{customElements.define("my-404",class extends e{render(){return'<p>not found</p><route-link data-path="/"><a href="#">home link</a></route-link>'}}),customElements.define("my-home",class extends e{async click(){try{const e=await i({url:"/api/v1/feeds?other=otherValue1",query:{some:1,another:["1","2"],other:"otherValue"}});console.dir(e.data)}catch(e){console.log("error on request call"),console.error(e)}}render(){return'home <p data-on-click="{click}">click me</p>'}}),customElements.define("path-route",n),customElements.define("route-link",o),customElements.define("path-router",t)}})()})();