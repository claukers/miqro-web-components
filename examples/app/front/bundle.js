(()=>{var e={158:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResponseError=t.parseRedirectLocation=t.readResponseBuffer=t.TEXT_TYPE=t.JSON_TYPE=t.CONTENT_TYPE_HEADER=t.DEFAULT_USER_AGENT=void 0;const n=r(13);t.DEFAULT_USER_AGENT="curl/7.69.1",t.CONTENT_TYPE_HEADER="Content-Type",t.JSON_TYPE="application/json;charset=utf-8",t.TEXT_TYPE="plain/text;charset=utf-8";const o=(e,t)=>{const r=(0,n.newURLSearchParams)(e.toString());if(!t)return r;const o=Object.keys(t);for(const e of o)if(t[e]instanceof Array)for(const n of t[e])r.has(e)?r.append(e,String(n)):r.set(e,String(n));else r.has(e)?r.append(e,String(t[e])):r.set(e,String(t[e]));return r};t.readResponseBuffer=({res:e,readTimeout:t,options:r,req:n,reject:o,logger:s},i)=>{try{const a=[];t&&clearTimeout(t);const c=r.timeout?setTimeout((()=>{e.removeListener("data",d),e.removeListener("error",l),e.removeListener("end",f),n.end((()=>{try{n.destroy(),e.destroy()}catch(e){s&&s.error(e)}o(new Error(`response timeout ${r.timeout}`))}))}),r.timeout):null;let u=0;const d=t=>{u+=t.length,r.maxResponse&&r.maxResponse<u?(e.removeListener("data",d),e.removeListener("error",l),e.removeListener("end",f),n.end((()=>{try{n.destroy(),e.destroy()}catch(e){s&&s.error(e)}o(new Error(`response too big maxResponse ${r.maxResponse} < ${u}`))}))):a.push(t)},l=t=>{e.removeListener("data",d),e.removeListener("end",f),e.removeListener("error",l);try{n.destroy(),e.destroy()}catch(e){s&&s.error(e)}o(t)},f=()=>{try{c&&clearTimeout(c),e.removeListener("data",d),e.removeListener("error",l),i(a)}catch(e){o(e)}};try{e.on("data",d),e.once("error",l),e.once("end",f)}catch(t){return e.removeListener("data",d),e.removeListener("end",f),e.removeListener("error",l),void o(t)}}catch(e){return void o(e)}},t.parseRedirectLocation=(e,t,r)=>{const s=(e,n,s)=>({queryStr:o(e.searchParams,t).toString(),protocol:s?"http:":e.protocol,hash:e.hash,pathname:e.pathname,socketPath:s?r:void 0,hostname:s?void 0:e.hostname,port:s?void 0:e.port,url:s?n:e.toString()});try{return s((0,n.newURL)(e),e)}catch(t){if(e&&e.length>0&&"/"===e[0])return s((0,n.newURL)(`http://localhost${e}`),e,!0);throw t}};class s extends Error{constructor(e,t,r,n,o,s,i){super("request ended with "+(e?`status [${e}]`:"no status")),this.status=e,this.headers=t,this.url=r,this.redirectedUrl=n,this.data=o,this.buffer=s,this.locations=i,this.name="ResponseError"}}t.ResponseError=s},177:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.request=void 0;const n=r(158),o=r(13);t.request=async function(e,t){let r=e.url;const s=new Headers,i=e.headers?e.headers:{};if(e.headers){const t=Object.keys(e.headers);for(const r of t){const t=e.headers[r];s.set(r,t?t.toString():"")}}const a=i[n.CONTENT_TYPE_HEADER]||i[n.CONTENT_TYPE_HEADER.toLowerCase()]||i[n.CONTENT_TYPE_HEADER.toUpperCase()],c=a?0===a.toString().toLocaleLowerCase().indexOf("application/json"):void 0,u=!a,d="string"==typeof e.data,l=!d&&(u||c);if(l&&u?s.set("Content-Type",n.JSON_TYPE):d&&u&&s.set("Content-Type",n.TEXT_TYPE),e.data=e.data?l?JSON.stringify(e.data):e.data:void 0,e.query){const t=(0,o.newURL)(e.url),n=Object.keys(e.query);for(const r of n){const n=e.query[r];if(n instanceof Array)for(const e of n)t.searchParams.append(r,e);else t.searchParams.append(r,n)}r=t.toString()}const f=await fetch(r,{headers:s,body:e.data,method:e.method?e.method:"GET",cache:"no-cache",redirect:e.followRedirect?"follow":"error",credentials:"same-origin",mode:"cors",referrerPolicy:"no-referrer"}),h={};f.headers.forEach(((e,t)=>{h[e]=t}));const p=f.status,m=await f.arrayBuffer();let v;const T=f.headers.get("content-type");if(T&&-1!==T.indexOf("json")){const e=new TextDecoder("utf-8");v=JSON.parse(e.decode(new Uint8Array(m)))}else T&&-1!==T.indexOf("text")&&(v=new TextDecoder("utf-8").decode(new Uint8Array(m)));if(!e.disableThrow&&p<200&&p>300)throw new n.ResponseError(p,h,r,null,v,m,[]);const y={url:r,status:p,locations:[],redirectedUrl:null,buffer:m,data:v,headers:h};return y.response=f,y}},13:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowser=t.newURLSearchParams=t.newURL=void 0,t.newURL=(e,r)=>(r=r||((0,t.isBrowser)()?window.location.toString():void 0),new URL(e,r)),t.newURLSearchParams=e=>new URLSearchParams(e),t.isBrowser=()=>"undefined"!=typeof window},416:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.request=void 0;const n=r(13);let o;t.request=function(e,t){if(o)return o(e,t);if((0,n.isBrowser)()){const{request:n}=r(177);return o=n,n(e,t)}{const n="./node",{request:s}=r(103)(n);return o=s,s(e,t)}}},103:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=103,e.exports=t},386:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Component=void 0;const n=r(97);class o extends HTMLElement{constructor(){super(),this.state={}}connectedCallback(){return(0,n.render)(this)}didUpdate(e){return!0}render(){}setState(e,t=!0){const r=this.state;if(this.state={...this.state,...e},this.didUpdate(r)&&t&&this.isConnected)return(0,n.render)(this)}}t.Component=o},738:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setCache=t.Component=void 0;var n=r(386);Object.defineProperty(t,"Component",{enumerable:!0,get:function(){return n.Component}});var o=r(458);Object.defineProperty(t,"setCache",{enumerable:!0,get:function(){return o.setCache}})},97:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=void 0;const n=r(458);t.render=function(e){if(!e.isConnected)return;const t=function(e){let t=o.get(e);return void 0===t&&(t=(0,n.nodeList2Array)(e.childNodes),o.set(e,t)),t}(e),r=function(e,t){return e.constructor&&e.constructor.hasOwnProperty("template")?(0,n.getTemplateLocation)(e.constructor.template):e.render?e.render():void 0}(e);"string"==typeof r||r instanceof Array?s(r,e,t):r instanceof Promise&&r.then((function(r){s(r,e,t)})).catch((t=>{console.error("cannot render Index %o",e),console.error(t)}))};const o=new WeakMap;function s(e,t,r){const o=(0,n.renderTemplate)(e,{this:t},r);if(o){t.innerHTML="";for(let e=0;e<o.length;e++)t.appendChild(o[e])}}},64:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DATA_STATE=t.DATA_IFN=t.DATA_IF=t.DATA_ON=t.DATA_REF=t.DATA_FOR_EACH_ITEM=t.DATA_FOR_EACH=void 0,t.DATA_FOR_EACH="data-for-each",t.DATA_FOR_EACH_ITEM="data-for-each-item",t.DATA_REF="data-ref",t.DATA_ON="data-on-",t.DATA_IF="data-if",t.DATA_IFN="data-ifn",t.DATA_STATE="data-state"},343:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dataForEach=void 0;const n=r(535),o=r(64);t.dataForEach=function(e,t,r){const s=e.getAttribute(o.DATA_FOR_EACH),i=e.getAttribute(o.DATA_FOR_EACH_ITEM);if(null!==s){const a=[],c=(0,n.getTemplateTokenValue)(s);let u=c&&(0,n.get)(t,c);if(u="function"==typeof u?u.bind(t.this)():u,c&&u&&u instanceof Array){const n={...t};for(let t=0;t<u.length;t++){n[null!==i?i:"item"]=u[t],n.index=t;const o=r(e,n);o&&a.push(o)}return a}throw console.error("invalid value for %s [%s]=[%o] for [%o]",o.DATA_FOR_EACH,s,u,t.this),new Error(`invalid value for ${o.DATA_FOR_EACH}`)}{const n=r(e,t);return n?[n]:[]}}},200:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dataIf=t.dataIfn=void 0;const n=r(535),o=r(64);t.dataIfn=function(e,t){const r=e.getAttribute(o.DATA_IFN);if(null!==r){const e=(0,n.getTemplateTokenValue)(r);if(!e)throw console.error("invalid value for %s [%s] for [%o]",o.DATA_IFN,r,t.this),new Error(`invalid value for ${o.DATA_IFN}`);let s=e&&(0,n.get)(t,e);return s="function"==typeof s?s.bind(t.this)():s,!s}return!0},t.dataIf=function(e,t){const r=e.getAttribute(o.DATA_IF);if(null!==r){const e=(0,n.getTemplateTokenValue)(r);if(!e)throw console.error("invalid value for %s [%s] for [%o]",o.DATA_IF,r,t.this),new Error(`invalid value for ${o.DATA_IF}`);let s=e&&(0,n.get)(t,e);return s="function"==typeof s?s.bind(t.this)():s,!!s}return!0}},182:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dataOnAndOtherAttributes=void 0;const n=r(64),o=r(535),s=[n.DATA_REF,n.DATA_IF,n.DATA_STATE,n.DATA_FOR_EACH,n.DATA_FOR_EACH_ITEM];t.dataOnAndOtherAttributes=function(e,t,r){const i=e.getAttributeNames();for(const a of i)if(-1===s.indexOf(a)){const s=e.getAttribute(a);if(s)if(0===a.indexOf(n.DATA_ON)){const e=s?a.substring(n.DATA_ON.length):void 0,i=s?(0,o.getTemplateTokenValue)(s):void 0,c=i?(0,o.get)(t,i):void 0,u=c&&"function"==typeof c?c.bind(t.this):void 0;if(!u||!e)throw console.error("invalid value for %s [%s]=[%o] for [%o]",a,s,c,t.this),new Error(`invalid value for ${a}`);r.addEventListener(e,u)}else r.setAttribute(a,(0,o.evaluateTextTemplate)(s,t));else r.setAttribute(a,"")}}},956:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dataRef=void 0;const n=r(535),o=r(64);t.dataRef=function(e,t,r){const s=e.getAttribute(o.DATA_REF);if(null!==s){const e=(0,n.getTemplateTokenValue)(s),i=e?(0,n.get)(t,e):void 0,a=i&&"function"==typeof i?i.bind(t.this):void 0;if(!a)throw console.error("invalid value for %s [%s]=[%o] for [%o]",o.DATA_REF,s,i,t.this),new Error(`invalid value for ${o.DATA_REF}`);a(r)}}},280:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dataState=void 0;const n=r(535),o=r(64);t.dataState=function(e,t,r){const s=e.getAttribute(o.DATA_STATE);if(null!==s){const e=(0,n.getTemplateTokenValue)(s);let i=e&&(0,n.get)(t,e);if(i="function"==typeof i?i.bind(t.this)():i,!e||!i||"object"!=typeof i)throw console.error("invalid value for %s [%s]=[%o] for [%o]",o.DATA_STATE,s,i,t.this),new Error(`invalid value for ${o.DATA_STATE}`);{const e=r;if(!e||"function"!=typeof e.setState)throw console.error("invalid value for %s [%o] for [%o]",o.DATA_STATE,i,t.this),new Error(`invalid value for ${o.DATA_STATE}`);e.setState(i,!1)}}}},45:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(343),t),o(r(200),t),o(r(182),t),o(r(956),t),o(r(280),t)},975:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTemplateLocation=t.setCache=void 0;let r=null;function n(e){return"string"==typeof e?e:`${e.url}`}function o(e,t){r=null!==r?r:{};const o=n(e);r[o]=t}t.setCache=function(e){if(!e)throw new Error("invalid cache!");if(null!==r)throw new Error("cannot reset cache");r=e},t.getTemplateLocation=function(e){const t=function(e){const t=n(e);if(r)return r[t]}(e="string"==typeof e?{url:e}:e);return"string"==typeof t?t:new Promise(((t,r)=>{try{(async function(e){const t="string"==typeof e,r=t?e:e.url,n=await fetch(r,t?{}:{method:e.method});if(n.status<200||n.status>=300)throw new Error(`bad response status [${n.status}] from [${r}]`);const s=await n.text();return o(e,s),s})(e).then((e=>{t(e)})).catch((t=>{o(e,""),r(t)}))}catch(e){r(e)}}))}},458:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nodeList2Array=t.renderTemplate=t.getTemplateLocation=t.setCache=void 0;var n=r(975);Object.defineProperty(t,"setCache",{enumerable:!0,get:function(){return n.setCache}}),Object.defineProperty(t,"getTemplateLocation",{enumerable:!0,get:function(){return n.getTemplateLocation}});var o=r(666);Object.defineProperty(t,"renderTemplate",{enumerable:!0,get:function(){return o.renderTemplate}});var s=r(535);Object.defineProperty(t,"nodeList2Array",{enumerable:!0,get:function(){return s.nodeList2Array}})},852:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderCommentNode=void 0;const n=r(535),o=r(975),s=r(666);t.renderCommentNode=function(e,t,r){const i=(0,n.getTemplateTokenValue)(e.textContent);if(i){if("children"===i)return r||[];{const n=(0,o.getTemplateLocation)(i.substring(1));if("string"==typeof n){return(0,s.renderTemplate)(n,t,r)||[]}return n.then((function(e){t.this.setState({})})).catch((r=>{console.error("cannot render node %o from %o",e,t.this),console.error(r)})),[]}}return e.textContent?[document.createComment(e.textContent)]:[]}},981:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderElementNode=void 0;const n=r(45),o=r(599);t.renderElementNode=function(e,t,r){return(0,n.dataForEach)(e,t,((e,t)=>{if((0,n.dataIf)(e,t)&&(0,n.dataIfn)(e,t)){const s=document.createElement(e.tagName);(0,n.dataState)(e,t,s),(0,n.dataRef)(e,t,s),(0,n.dataOnAndOtherAttributes)(e,t,s);const i=(0,o.renderNodeChildrenOnElement)(e.childNodes,t,r);for(const e of i)s.appendChild(e);return s}}))}},786:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderTextNode=t.renderElementNode=t.renderCommentNode=void 0;var n=r(852);Object.defineProperty(t,"renderCommentNode",{enumerable:!0,get:function(){return n.renderCommentNode}});var o=r(981);Object.defineProperty(t,"renderElementNode",{enumerable:!0,get:function(){return o.renderElementNode}});var s=r(39);Object.defineProperty(t,"renderTextNode",{enumerable:!0,get:function(){return s.renderTextNode}})},39:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderTextNode=void 0;const n=r(535),o=r(620);t.renderTextNode=function(e,t,r){let s=[];if(e.textContent){const r=document.createTextNode("");let i=r;r.textContent=e.textContent.replace(o.re,(e=>{const r=(0,n.getTemplateTokenValue)(e);if(r){let e=(0,n.get)(t,r);if("function"==typeof e){const r=e.bind(t.this);e=r()}return e instanceof Array&&0===e.filter((e=>!(e instanceof HTMLElement))).length||e instanceof HTMLElement?(s.push(i),s=s.concat(e),i=document.createTextNode(""),""):0===s.length?String(e):(i.textContent+=String(e),"")}return 0===s.length?e:(i.textContent+=e,"")})),""!==i.textContent&&s.push(i)}return s}},599:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderNodeChildrenOnElement=void 0;const n=r(786);t.renderNodeChildrenOnElement=function(e,t,r){let o=[];for(let s=0;s<e.length;s++){const i=e[s];i&&(i.nodeType===Node.COMMENT_NODE&&null!==i.textContent?o=o.concat((0,n.renderCommentNode)(i,t,r)):i.nodeType===Node.TEXT_NODE&&null!==i.textContent?o=o.concat((0,n.renderTextNode)(i,t,r)):i.nodeType===Node.ELEMENT_NODE&&(o=o.concat((0,n.renderElementNode)(i,t,r))))}return o}},666:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderTemplate=void 0;const n=r(599);t.renderTemplate=function(e,t,r){if(e instanceof Array&&(e=e.filter((e=>e)).map((e=>String(e))).join("")),"string"==typeof e){const o=(new DOMParser).parseFromString(`<root>${e}</root>`,"text/xml").children[0];return(0,n.renderNodeChildrenOnElement)(o.childNodes,t,r)}}},360:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.get=void 0,t.get=function(e,t,r){if(r=r||void 0,!e||"object"!=typeof e)return void 0!==r?r:void 0;if("string"!=typeof t)throw new Error("attrPath must be typeof string");const n=t.split(".").reverse();let o=e;for(;n.length>0;){const e=n.pop();if(void 0===o[e])return void 0!==r?r:void 0;o=o[e]}return o}},535:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nodeList2Array=t.evaluateTextTemplate=t.getTemplateTokenValue=t.get=void 0;var n=r(360);Object.defineProperty(t,"get",{enumerable:!0,get:function(){return n.get}});var o=r(620);Object.defineProperty(t,"getTemplateTokenValue",{enumerable:!0,get:function(){return o.getTemplateTokenValue}}),Object.defineProperty(t,"evaluateTextTemplate",{enumerable:!0,get:function(){return o.evaluateTextTemplate}}),Object.defineProperty(t,"nodeList2Array",{enumerable:!0,get:function(){return o.nodeList2Array}})},620:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.evaluateTextTemplate=t.textTemplateReplace=t.re=t.getTemplateTokenValue=t.nodeList2Array=void 0;const n=r(360);function o(e){if(e&&"string"==typeof e&&e.length>3&&"{"===e.charAt(0)&&"}"===e.charAt(e.length-1)){const t=e.substring(1,e.length-1);return t&&-1===t.indexOf(" ")?t:void 0}}function s(e,t){if("function"==typeof e){const r=e.bind(t);return String(r())}return String(e)}t.nodeList2Array=function(e){const t=[];if(e)for(let r=0;r<e.length;r++)t.push(e[r]);return t},t.getTemplateTokenValue=o,t.re=/{[^%^{^}^\s]+}/g,t.textTemplateReplace=s,t.evaluateTextTemplate=function(e,r){return e.replace(t.re,(e=>{const t=o(e);return t?s((0,n.get)(r,t),r.this):e}))}},846:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Store=t.historyPushPath=t.RouteLink=t.PathRouter=t.setCache=t.Component=void 0;var n=r(738);Object.defineProperty(t,"Component",{enumerable:!0,get:function(){return n.Component}}),Object.defineProperty(t,"setCache",{enumerable:!0,get:function(){return n.setCache}});var o=r(141);Object.defineProperty(t,"PathRouter",{enumerable:!0,get:function(){return o.PathRouter}}),Object.defineProperty(t,"RouteLink",{enumerable:!0,get:function(){return o.RouteLink}}),Object.defineProperty(t,"historyPushPath",{enumerable:!0,get:function(){return o.historyPushPath}});var s=r(370);Object.defineProperty(t,"Store",{enumerable:!0,get:function(){return s.Store}})},787:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.historyPushPath=void 0;const n=r(632);t.historyPushPath=function(e){window.history.pushState(null,null,(0,n.BASE_PATH)()+e),window.dispatchEvent(new PopStateEvent("popstate"))}},141:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RouteLink=t.PathRouter=t.historyPushPath=void 0;var n=r(787);Object.defineProperty(t,"historyPushPath",{enumerable:!0,get:function(){return n.historyPushPath}});var o=r(19);Object.defineProperty(t,"PathRouter",{enumerable:!0,get:function(){return o.PathRouter}});var s=r(899);Object.defineProperty(t,"RouteLink",{enumerable:!0,get:function(){return s.RouteLink}})},899:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RouteLink=void 0;const n=r(738),o=r(787),s=r(632);class i extends n.Component{constructor(){super(),this.clickListener=e=>{e.preventDefault(),this.state.active||this.setState({active:!0}),(0,o.historyPushPath)(this.dataset.path)}}connectedCallback(){this.addEventListener("click",this.clickListener);const e=(0,s.isPathLocation)(this.dataset.path);return this.state.active!==e&&(this.state.active=e),super.connectedCallback()}disconnectedCallback(){this.removeEventListener("click",this.clickListener)}render(){return this.classList.contains("active")&&!this.state.active?this.classList.remove("active"):!this.classList.contains("active")&&this.state.active&&this.classList.add("active"),super.render()}}t.RouteLink=i,i.tagName="route-link"},19:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PathRouter=void 0;const n=r(738),o=r(632),s=e=>"function"==typeof e?e():`<${e}></${e}>`;class i extends n.Component{constructor(){super(),this.popStateListener=()=>{(0,o.updateRouter)(this)},this.state.routes=[]}resetRoutes(){return this.setState({routes:[],active:void 0})}setDefault(e){return this.setState({defaultElement:e})}pushRoute(e){return this.concatRoutes(e)}concatRoutes(e){e=e instanceof Array?e:[e];const t=this.state.routes.concat(e);return this.setState({routes:t})}connectedCallback(){return(0,o.updateRouter)(this,!1),window.addEventListener("popstate",this.popStateListener),super.connectedCallback()}didUpdate(e){return!(0,o.updateRouter)(this)&&super.didUpdate(e)}disconnectedCallback(){window.removeEventListener("popstate",this.popStateListener)}render(){return this.state.active?s(this.state.active.element):this.state.defaultElement?s(this.state.defaultElement):""}}t.PathRouter=i,i.tagName="path-router"},632:(e,t)=>{"use strict";function r(e){if(void 0===e)return!1;const r=o((0,t.BASE_PATH)()+e);return o(location.pathname).toLowerCase()===r.toLowerCase()}function n(e,t,o=!0){let s=o&&e.isDefault||r(e.path);return t&&e.element!==t.element&&s&&n(t,t,!1)&&(s=!1),s}function o(e){return e.length>1&&"/"===e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e}Object.defineProperty(t,"__esModule",{value:!0}),t.isRouteActive=t.isPathLocation=t.updateRouter=t.BASE_PATH=void 0,t.BASE_PATH=()=>o(document.documentElement.getAttribute("data-router-base-path")?document.documentElement.getAttribute("data-router-base-path"):""),t.updateRouter=function(e,t=!0){const r=function(e,t){let r;for(const o of e)n(o,r||t)&&(r=o);return r}(e.state.routes,e.state.active);return r!==e.state.active&&(t?e.setState({active:r}):e.state.active=r,!0)},t.isPathLocation=r,t.isRouteActive=n},370:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Store=void 0,t.Store=class{constructor(e,t,r){this.reducers=e,this.state=t,this.listenerMap=new Map,this.options={dispatchTimeout:0,...r||{}}}subscribe(e,t){const r=e(this.state);return this.listenerMap.set(t,{lastResult:r,selector:e}),r}unSubscribe(e){return this.listenerMap.delete(e)}getState(){return{...this.state}}dispatch(e){const t=this.getState();this.state="function"==typeof this.reducers?this.reducers(e,t):this.reducers[e.type]?this.reducers[e.type](e,t):t,clearTimeout(this.dispatchTimeout),t!==this.state&&(this.dispatchTimeout=setTimeout((()=>function(e,t,r){const n=r.keys();for(const e of n){const n=r.get(e);if(n)try{const r=n.selector(t);r!==n.lastResult&&(n.lastResult=r,e(r))}catch(e){console.error(e)}}}(0,this.getState(),this.listenerMap)),this.options.dispatchTimeout))}}}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,r),s.exports}r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{const{Component:e,PathRouter:t,RouteLink:n}=r(846),{request:o}=r(416);customElements.define("my-404",class extends e{render(){return'<p>not found</p><route-link data-path="/"><a href="#">home link</a></route-link>'}}),customElements.define("my-home",class extends e{async click(){try{const e=await o({url:"/api/v1/feeds?other=otherValue1",query:{some:1,another:["1","2"],other:"otherValue"}});this.setState({response:e,data:JSON.stringify(e.data,void 0,4)})}catch(e){console.error("error on request call"),console.error(e)}}render(){return'home <button data-on-click="{this.click}">click me</button> <p>{this.state.data}</p><p>{this.state.response.data}</p>'}}),customElements.define("route-link",n),customElements.define("my-router",class extends t{constructor(){super(),this.state={defaultElement:"my-404",routes:[{path:"/",element:"my-home"},{path:"/about",element:"my-about"}]}}}),customElements.define("my-app",class extends e{render(){return"<my-router></my-router>"}})})()})();