<!DOCTYPE html>
<html>
<body>
<style>
  body {
    background-color: black;
    color: white;
  }
</style>
<my-root></my-root>
<script type="module">
  import {defineFunction, Component} from "./lib/index.js";

  defineFunction("label-fn", async (self) => {
    const [count, setCount] = self.useState(0);
    return {
      template: '<p data-on-click="{click}">click count {count}</p>',
      values: {
        count,
        click: () => {
          setCount(count + 1);
        }
      }
    }
  });

  customElements.define("my-root", class extends Component {
    constructor() {
      super();
      this.state.text = "text";
      setTimeout(()=>{
        this.setState({
          text: "asdklsja"
        });
      }, 1000);
    }

    render() {
      return "<!--{root.html}-->"
    }
  })

</script>
</body>
</html>
