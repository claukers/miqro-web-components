<!DOCTYPE html>
<html>
<body>
<style>
  body {
    background-color: black;
    color: white;
  }
</style>
<my-root></my-root>
<script type="module">
  import {defineFunction} from "./lib/index.js";

  defineFunction("my-loading", function () {
    return "<p>loading</p>";
  });

  const SUSPEND_DEFAULT_FALLBACK_MS = 10;

  defineFunction("my-suspend", function () {
    this.useEffect(() => {
      setTimeout(function () {

      }, SUSPEND_DEFAULT_FALLBACK_MS);
    });
    return "{children}";
  });

  defineFunction("my-element", async function () {
    await new Promise(resolve => {
      setTimeout(() => {
        resolve();
      }, 1000);
    });
    return "<p>out</p>";
  });

  defineFunction("my-root", async function () {
    return "<my-suspend><my-element/></my-suspend>";
  });
</script>
</body>
</html>
